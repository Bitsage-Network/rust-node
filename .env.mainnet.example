# =============================================================================
# BitSage Network — Mainnet Environment Configuration
# =============================================================================
# Copy to .env and fill ALL values before deploying to mainnet.
# NEVER commit this file with real secrets.
# =============================================================================

# --- Environment ---
BITSAGE_ENV=production
STARKNET_NETWORK=mainnet

# --- Security (REQUIRED) ---
JWT_SECRET=                          # Min 32 chars, cryptographically random
KEYSTORE_PASSWORD=                   # Strong password for keystore file
KEYSTORE_PATH=./keystore.json        # Path to encrypted keystore

# --- Starknet RPC (REQUIRED) ---
# Use a paid/reliable provider: Alchemy, Infura, Blast, or own node
STARKNET_RPC_URL=https://starknet-mainnet.g.alchemy.com/starknet/version/rpc/v0_7/YOUR_KEY

# --- Deployer Account ---
DEPLOYER_ADDRESS=                    # Must have ETH for gas
SIGNER_ACCOUNT_ADDRESS=              # Same as deployer typically
# Do NOT set SIGNER_PRIVATE_KEY — use keystore instead

# --- Contract Addresses (REQUIRED — deploy before filling) ---
SAGE_TOKEN_ADDRESS=
JOB_MANAGER_ADDRESS=
CDC_POOL_ADDRESS=
STAKING_CONTRACT_ADDRESS=
PROOF_VERIFIER_ADDRESS=
STWO_VERIFIER_ADDRESS=
REPUTATION_CONTRACT_ADDRESS=
FAUCET_CONTRACT_ADDRESS=
PAYMENT_ROUTER_ADDRESS=
FRAUD_PROOF_ADDRESS=
WORKER_STAKING_ADDRESS=
ESCROW_ADDRESS=
FEE_MANAGER_ADDRESS=
PRIVACY_POOLS_ADDRESS=
PAYMASTER_ADDRESS=

# --- Database (REQUIRED — use strong password) ---
DATABASE_URL=postgres://bitsage:STRONG_PASSWORD_HERE@localhost:5432/sage
DATABASE_MAX_CONNECTIONS=20

# --- API Server ---
API_HOST=0.0.0.0
API_PORT=8080
ENABLE_TLS=true
TLS_CERT_PATH=/etc/letsencrypt/live/node.bitsage.network/fullchain.pem
TLS_KEY_PATH=/etc/letsencrypt/live/node.bitsage.network/privkey.pem
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# --- Coordinator ---
COORDINATOR_ID=coordinator-mainnet
MAX_WORKERS=100
WORKER_TIMEOUT_SECONDS=300
HEALTH_CHECK_INTERVAL_SECONDS=60

# --- Staking ---
REQUIRE_STAKE=true

# --- Consensus ---
ENABLE_CONSENSUS=true
QUORUM_PERCENTAGE=67

# --- GPU / Proofs ---
ENABLE_GPU=true
PROOF_SECURITY_BITS=128
ENABLE_PROOF_PIPELINE=true

# --- Monitoring ---
ENABLE_METRICS=true
PROMETHEUS_ENDPOINT=0.0.0.0:9090

# --- Logging ---
RUST_LOG=info
